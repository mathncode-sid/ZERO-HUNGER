<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgriPredict AI - Smart Farming Solutions</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f0fdf4 0%, #eff6ff 100%);
            min-height: 100vh;
            color: #1f2937;
        }

        /* Auth Pages Styles */
        .auth-container {
            display: flex;
            min-height: 100vh;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .auth-card {
            background: linear-gradient(145deg, #ffffff, #f9fdf9);
            border-radius: 1.5rem;
            box-shadow: 0 20px 25px -5px rgba(22, 163, 74, 0.1), 0 10px 10px -5px rgba(22, 163, 74, 0.04);
            padding: 3rem;
            width: 100%;
            max-width: 500px;
            border: 1px solid rgba(22, 163, 74, 0.1);
        }

        .auth-card.signup {
            max-width: 700px;
        }

        .auth-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .auth-logo {
            background: linear-gradient(135deg, #16a34a, #15803d);
            padding: 1rem;
            border-radius: 1rem;
            color: white;
            font-size: 3rem;
            display: inline-block;
            margin-bottom: 1rem;
            box-shadow: 0 4px 6px rgba(22, 163, 74, 0.25);
        }

        .auth-title {
            font-size: 2rem;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 0.5rem;
        }

        .auth-subtitle {
            color: #6b7280;
            font-size: 0.875rem;
            line-height: 1.5;
        }

        .auth-form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .form-section {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .section-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: #1f2937;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border-bottom: 2px solid #f3f4f6;
            padding-bottom: 0.5rem;
        }

        .section-title i {
            color: #16a34a;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
        }

        .form-row.two-cols {
            grid-template-columns: 1fr 1fr;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-group label {
            font-size: 0.875rem;
            font-weight: 500;
            color: #374151;
        }

        .input-wrapper {
            position: relative;
        }

        .input-wrapper i {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #6b7280;
            font-size: 0.875rem;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 0.75rem;
            padding-left: 2.5rem;
            border: 2px solid #e5e7eb;
            border-radius: 0.75rem;
            font-size: 0.875rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: white;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #16a34a;
            box-shadow: 0 0 0 3px rgba(22, 163, 74, 0.1);
            transform: translateY(-1px);
        }

        .password-toggle {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #6b7280;
            cursor: pointer;
            padding: 0.25rem;
            border-radius: 0.25rem;
            transition: color 0.2s;
        }

        .password-toggle:hover {
            color: #16a34a;
        }

        .auth-btn {
            width: 100%;
            background: linear-gradient(135deg, #16a34a, #15803d);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            box-shadow: 0 4px 6px rgba(22, 163, 74, 0.25);
        }

        .auth-btn:hover:not(:disabled) {
            background: linear-gradient(135deg, #15803d, #166534);
            transform: translateY(-2px);
            box-shadow: 0 8px 12px rgba(22, 163, 74, 0.3);
        }

        .auth-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .auth-btn.loading {
            pointer-events: none;
        }

        .spinner {
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .auth-links {
            text-align: center;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .auth-links a, .auth-links button {
            color: #16a34a;
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 500;
            background: none;
            border: none;
            cursor: pointer;
            transition: color 0.2s;
        }

        .auth-links a:hover, .auth-links button:hover {
            color: #15803d;
            text-decoration: underline;
        }

        /* Toast Notifications */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border-radius: 0.75rem;
            padding: 1rem 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border-left: 4px solid #16a34a;
            transform: translateX(400px);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            max-width: 400px;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast.error {
            border-left-color: #ef4444;
        }

        .toast-title {
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 0.25rem;
        }

        .toast-message {
            color: #6b7280;
            font-size: 0.875rem;
        }

        /* Hidden class */
        .hidden {
            display: none !important;
        }

        /* Show/hide animations */
        .fade-in {
            animation: fadeIn 0.3s ease-out;
        }

        .fade-out {
            animation: fadeOut 0.3s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeOut {
            from {
                opacity: 1;
                transform: translateY(0);
            }
            to {
                opacity: 0;
                transform: translateY(-10px);
            }
        }

        /* Dashboard Styles (Original) */
        .header {
            background: white;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            border-bottom: 1px solid #dcfce7;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .logo {
            background: #16a34a;
            padding: 0.5rem;
            border-radius: 0.5rem;
            color: white;
            font-size: 2rem;
        }

        .logo-text h1 {
            font-size: 1.5rem;
            font-weight: bold;
            color: #1f2937;
        }

        .logo-text p {
            font-size: 0.875rem;
            color: #6b7280;
        }

        .header-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logout-btn {
            background: #ef4444;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .logout-btn:hover {
            background: #dc2626;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .auth-card {
                padding: 2rem;
                margin: 1rem;
            }
            
            .form-row.two-cols {
                grid-template-columns: 1fr;
            }
            
            .auth-title {
                font-size: 1.75rem;
            }
        }

        @media (max-width: 480px) {
            .auth-container {
                padding: 1rem;
            }
            
            .auth-card {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Toast Container -->
    <div id="toast-container"></div>

    <!-- Login Page -->
    <div id="login-page" class="auth-container">
        <div class="auth-card fade-in">
            <div class="auth-header">
                <div class="auth-logo">
                    <i class="fas fa-leaf"></i>
                </div>
                <h2 class="auth-title">Welcome Back</h2>
                <p class="auth-subtitle">Sign in to your AgriPredict AI account</p>
            </div>
            <form class="auth-form" id="login-form">
                <div class="form-section">
                    <div class="form-group">
                        <label for="login-email">Email Address</label>
                        <div class="input-wrapper">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="login-email" name="email" required placeholder="Enter your email">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="login-password">Password</label>
                        <div class="input-wrapper">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="login-password" name="password" required placeholder="Enter your password">
                            <button type="button" class="password-toggle" onclick="togglePassword('login-password')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <button type="submit" class="auth-btn">
                    <i class="fas fa-sign-in-alt"></i>
                    <span>Sign In</span>
                </button>
                <div class="auth-links">
                    <button type="button" onclick="showForgotPassword()">Forgot your password?</button>
                    <p>Don't have an account? <a href="#" onclick="showSignup()">Create one here</a></p>
                </div>
            </form>
        </div>
    </div>

    <!-- Signup Page -->
    <div id="signup-page" class="auth-container hidden">
        <div class="auth-card signup fade-in">
            <div class="auth-header">
                <div class="auth-logo">
                    <i class="fas fa-leaf"></i>
                </div>
                <h2 class="auth-title">Join AgriPredict AI</h2>
                <p class="auth-subtitle">Start your smart farming journey with AI-powered crop predictions</p>
            </div>
            <form class="auth-form" id="signup-form">
                <div class="form-section">
                    <div class="section-title">
                        <i class="fas fa-user"></i>
                        Personal Information
                    </div>
                    <div class="form-row two-cols">
                        <div class="form-group">
                            <label for="first-name">First Name</label>
                            <div class="input-wrapper">
                                <i class="fas fa-user"></i>
                                <input type="text" id="first-name" name="firstName" required placeholder="John">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="last-name">Last Name</label>
                            <div class="input-wrapper">
                                <i class="fas fa-user"></i>
                                <input type="text" id="last-name" name="lastName" required placeholder="Farmer">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="signup-email">Email Address</label>
                        <div class="input-wrapper">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="signup-email" name="email" required placeholder="john@farm.com">
                        </div>
                    </div>
                    <div class="form-row two-cols">
                        <div class="form-group">
                            <label for="signup-password">Password</label>
                            <div class="input-wrapper">
                                <i class="fas fa-lock"></i>
                                <input type="password" id="signup-password" name="password" required placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                                <button type="button" class="password-toggle" onclick="togglePassword('signup-password')">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="confirm-password">Confirm Password</label>
                            <div class="input-wrapper">
                                <i class="fas fa-lock"></i>
                                <input type="password" id="confirm-password" name="confirmPassword" required placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                                <button type="button" class="password-toggle" onclick="togglePassword('confirm-password')">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <div class="section-title">
                        <i class="fas fa-tractor"></i>
                        Farm Information
                    </div>
                    <div class="form-group">
                        <label for="farm-name">Farm Name</label>
                        <div class="input-wrapper">
                            <i class="fas fa-seedling"></i>
                            <input type="text" id="farm-name" name="farmName" required placeholder="Green Valley Farm">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="farm-location">Farm Location</label>
                        <div class="input-wrapper">
                            <i class="fas fa-map-marker-alt"></i>
                            <input type="text" id="farm-location" name="location" required placeholder="City, State/Province, Country">
                        </div>
                    </div>
                    <div class="form-row two-cols">
                        <div class="form-group">
                            <label for="farm-type">Primary Crop Type</label>
                            <div class="input-wrapper">
                                <i class="fas fa-wheat-awn"></i>
                                <select id="farm-type" name="farmType" required>
                                    <option value="">Select crop type</option>
                                    <option value="corn">Corn</option>
                                    <option value="wheat">Wheat</option>
                                    <option value="soybeans">Soybeans</option>
                                    <option value="rice">Rice</option>
                                    <option value="cotton">Cotton</option>
                                    <option value="vegetables">Vegetables</option>
                                    <option value="fruits">Fruits</option>
                                    <option value="mixed">Mixed Crops</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="farm-size">Farm Size</label>
                            <div class="input-wrapper">
                                <i class="fas fa-expand-arrows-alt"></i>
                                <select id="farm-size" name="farmSize" required>
                                    <option value="">Select farm size</option>
                                    <option value="small">Small (1-50 acres)</option>
                                    <option value="medium">Medium (51-500 acres)</option>
                                    <option value="large">Large (501-2000 acres)</option>
                                    <option value="enterprise">Enterprise (2000+ acres)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <button type="submit" class="auth-btn">
                    <i class="fas fa-check-circle"></i>
                    <span>Create AgriPredict Account</span>
                </button>
                <div class="auth-links">
                    <p>Already have an account? <a href="#" onclick="showLogin()">Sign in here</a></p>
                </div>
            </form>
        </div>
    </div>

    <!-- Dashboard Page (Original Content) -->
    <div id="dashboard-page" class="hidden">
        <!-- Header -->
        <div class="header">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo">
                        <i class="fas fa-leaf"></i>
                    </div>
                    <div class="logo-text">
                        <h1>AgriPredict AI</h1>
                        <p>Smart Farming Solutions</p>
                    </div>
                </div>
                <div class="header-info">
                    <span id="user-name">Welcome, John Farmer</span>
                    <button class="logout-btn" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i>
                        Logout
                    </button>
                </div>
            </div>
        </div>
        
        <div style="padding: 2rem; max-width: 1200px; margin: 0 auto;">
            <h2 style="color: #1f2937; margin-bottom: 2rem; text-align: center;">Dashboard Coming Soon</h2>
            <p style="color: #6b7280; text-align: center;">Your AgriPredict AI dashboard will be available here once you're logged in.</p>
        </div>
    </div>

    <script>
        // Global state
        let currentUser = null;
        let currentPage = 'login';

        // Utility Functions
        function showToast(title, message, type = 'success') {
            const toastContainer = document.getElementById('toast-container');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerHTML = `
                <div class="toast-title">${title}</div>
                <div class="toast-message">${message}</div>
            `;
            
            toastContainer.appendChild(toast);
            
            // Show toast
            setTimeout(() => toast.classList.add('show'), 100);
            
            // Hide toast after 4 seconds
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toastContainer.removeChild(toast), 300);
            }, 4000);
        }

        function togglePassword(inputId) {
            const input = document.getElementById(inputId);
            const button = input.nextElementSibling;
            const icon = button.querySelector('i');
            
            if (input.type === 'password') {
                input.type = 'text';
                icon.className = 'fas fa-eye-slash';
            } else {
                input.type = 'password';
                icon.className = 'fas fa-eye';
            }
        }

        function setLoading(formId, isLoading) {
            const form = document.getElementById(formId);
            const button = form.querySelector('.auth-btn');
            const buttonText = button.querySelector('span');
            const buttonIcon = button.querySelector('i');
            
            if (isLoading) {
                button.disabled = true;
                button.classList.add('loading');
                buttonIcon.className = 'spinner';
                buttonText.textContent = formId === 'login-form' ? 'Signing In...' : 'Creating Account...';
            } else {
                button.disabled = false;
                button.classList.remove('loading');
                buttonIcon.className = formId === 'login-form' ? 'fas fa-sign-in-alt' : 'fas fa-check-circle';
                buttonText.textContent = formId === 'login-form' ? 'Sign In' : 'Create AgriPredict Account';
            }
        }

        // Page Navigation
        function showPage(pageId) {
            // Hide all pages
            const pages = ['login-page', 'signup-page', 'dashboard-page'];
            pages.forEach(id => {
                const page = document.getElementById(id);
                if (page) page.classList.add('hidden');
            });
            
            // Show target page
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.remove('hidden');
                // Add fade-in animation to the card
                const card = targetPage.querySelector('.auth-card');
                if (card) {
                    card.classList.remove('fade-in');
                    setTimeout(() => card.classList.add('fade-in'), 50);
                }
            }
            
            currentPage = pageId.replace('-page', '');
        }

        function showLogin() {
            showPage('login-page');
        }

        function showSignup() {
            showPage('signup-page');
        }

        function showDashboard() {
            showPage('dashboard-page');
        }

        function showForgotPassword() {
            showToast('Password Reset', 'Password reset functionality will be integrated with your backend API.');
        }

        function logout() {
            currentUser = null;
            showLogin();
            showToast('Logged Out', 'You have been successfully logged out.');
        }

        // Form Validation
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        function validatePassword(password) {
            return password.length >= 6;
        }

        function validateSignupForm(formData) {
            if (!validateEmail(formData.email)) {
                throw new Error('Please enter a valid email address.');
            }
            
            if (!validatePassword(formData.password)) {
                throw new Error('Password must be at least 6 characters long.');
            }
            
            if (formData.password !== formData.confirmPassword) {
                throw new Error('Passwords do not match.');
            }
            
            // Check required fields
            const requiredFields = ['firstName', 'lastName', 'farmName', 'location', 'farmType', 'farmSize'];
            for (const field of requiredFields) {
                if (!formData[field] || formData[field].trim() === '') {
                    throw new Error(`Please fill in all required fields.`);
                }
            }
        }

        function validateLoginForm(formData) {
            if (!validateEmail(formData.email)) {
                throw new Error('Please enter a valid email address.');
            }
            
            if (!formData.password) {
                throw new Error('Please enter your password.');
            }
        }

        // Form Handlers
        function handleLogin(formData) {
            return new Promise((resolve, reject) => {
                // Simulate API call
                setTimeout(() => {
                    if (formData.email && formData.password) {
                        const user = {
                            email: formData.email,
                            name: formData.email.split('@')[0],
                            loginTime: new Date().toISOString()
                        };
                        resolve(user);
                    } else {
                        reject(new Error('Invalid credentials'));
                    }
                }, 2000);
            });
        }

        function handleSignup(formData) {
            return new Promise((resolve, reject) => {
                // Simulate API call
                setTimeout(() => {
                    const user = {
                        email: formData.email,
                        name: `${formData.firstName} ${formData.lastName}`,
                        farmName: formData.farmName,
                        location: formData.location,
                        farmType: formData.farmType,
                        farmSize: formData.farmSize,
                        signupTime: new Date().toISOString()
                    };
                    resolve(user);
                }, 2000);
            });
        }

        // Event Listeners
        document.getElementById('login-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData.entries());
            
            try {
                validateLoginForm(data);
                setLoading('login-form', true);
                
                const user = await handleLogin(data);
                currentUser = user;
                
                setLoading('login-form', false);
                showToast('Welcome Back! ðŸŒ±', `Successfully signed in as ${user.name}.`);
                
                // Update dashboard with user info
                document.getElementById('user-name').textContent = `Welcome, ${user.name}`;
                
                setTimeout(() => showDashboard(), 1000);
                
            } catch (error) {
                setLoading('login-form', false);
                showToast('Login Failed', error.message, 'error');
            }
        });

        document.getElementById('signup-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData.entries());
            
            try {
                validateSignupForm(data);
                setLoading('signup-form', true);
                
                const user = await handleSignup(data);
                currentUser = user;
                
                setLoading('signup-form', false);
                showToast('Account Created! ðŸŒ±', `Welcome to AgriPredict AI, ${user.name}!`);
                
                // Update dashboard with user info
                document.getElementById('user-name').textContent = `Welcome, ${user.name}`;
                
                setTimeout(() => showDashboard(), 1000);
                
            } catch (error) {
                setLoading('signup-form', false);
                showToast('Signup Failed', error.message, 'error');
            }
        });

        // Initialize app
        document.addEventListener('DOMContentLoaded', () => {
            // Check URL hash to determine initial page
            const hash = window.location.hash.substring(1);
            if (hash === 'signup') {
                showSignup();
            } else if (hash === 'dashboard') {
                showDashboard();
            } else {
                showLogin();
            }
            
            // Update URL when page changes
            window.addEventListener('hashchange', () => {
                const newHash = window.location.hash.substring(1);
                if (newHash === 'signup') {
                    showSignup();
                } else if (newHash === 'dashboard') {
                    showDashboard();
                } else {
                    showLogin();
                }
            });
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // ESC to close modals or go back
            if (e.key === 'Escape') {
                if (currentPage === 'signup') {
                    showLogin();
                }
            }
            
            // Enter to submit forms
            if (e.key === 'Enter' && e.ctrlKey) {
                const activeForm = document.querySelector('.auth-container:not(.hidden) form');
                if (activeForm) {
                    activeForm.requestSubmit();
                }
            }
        });
    </script>
</body>
     <!-- Main Application -->
    <div id="main-app" class="hidden">
        <!-- Header -->
        <div class="header">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo">
                        <i class="fas fa-leaf"></i>
                    </div>
                    <div class="logo-text">
                        <h1>AgriPredict AI</h1>
                        <p>Smart Farming Solutions</p>
                    </div>
                </div>
                <div class="header-info">
                    <div class="info-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span id="selected-region">Central Kenya</span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-user"></i>
                        <span id="user-name">John Farmer</span>
                    </div>
                    <div class="notification-badge">
                        <i class="fas fa-bell"></i>
                        <span class="badge" id="notification-count">3</span>
                    </div>
                    <button class="logout-btn" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>
        </div>

        <!-- Main Container -->
        <div class="container">
            <!-- Weather Cards -->
            <div class="weather-grid">
                <div class="weather-card">
                    <div class="weather-icon temperature">
                        <i class="fas fa-thermometer-half"></i>
                    </div>
                    <div class="weather-info">
                        <h3>Temperature</h3>
                        <p id="temperature">26Â°C</p>
                    </div>
                </div>
                <div class="weather-card">
                    <div class="weather-icon humidity">
                        <i class="fas fa-tint"></i>
                    </div>
                    <div class="weather-info">
                        <h3>Humidity</h3>
                        <p id="humidity">68%</p>
                    </div>
                </div>
                <div class="weather-card">
                    <div class="weather-icon wind">
                        <i class="fas fa-wind"></i>
                    </div>
                    <div class="weather-info">
                        <h3>Wind Speed</h3>
                        <p id="wind-speed">12 km/h</p>
                    </div>
                </div>
                <div class="weather-card">
                    <div class="weather-icon rainfall">
                        <i class="fas fa-cloud-rain"></i>
                    </div>
                    <div class="weather-info">
                        <h3>Rainfall</h3>
                        <p id="rainfall">15mm</p>
                    </div>
                </div>
                <div class="weather-card">
                    <div class="weather-icon conditions">
                        <i class="fas fa-cloud-sun"></i>
                    </div>
                    <div class="weather-info">
                        <h3>Conditions</h3>
                        <p id="conditions">Partly Cloudy</p>
                    </div>
                </div>
            </div>

            <!-- Main Grid -->
            <div class="main-grid">
                <!-- Left Column -->
                <div class="left-column">
                    <!-- Prediction Panel -->
                    <div class="prediction-panel">
                        <h2 class="panel-title">
                            <i class="fas fa-chart-line" style="color: #16a34a;"></i>
                            Yield Prediction
                        </h2>
                        
                        <div class="form-group">
                            <label for="crop-select">Select Crop</label>
                            <select id="crop-select">
                                <option value="Maize">Maize</option>
                                <option value="Beans">Beans</option>
                                <option value="Coffee">Coffee</option>
                                <option value="Tea">Tea</option>
                                <option value="Wheat">Wheat</option>
                                <option value="Rice">Rice</option>
                                <option value="Sorghum">Sorghum</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="region-select">Select Region</label>
                            <select id="region-select">
                                <option value="Central Kenya">Central Kenya</option>
                                <option value="Western Kenya">Western Kenya</option>
                                <option value="Eastern Kenya">Eastern Kenya</option>
                                <option value="Rift Valley">Rift Valley</option>
                                <option value="Coast Province">Coast Province</option>
                            </select>
                        </div>
                        
                        <button id="predict-btn" class="predict-btn">
                            Generate Prediction
                        </button>
                    </div>

                    <!-- Notifications Panel -->
                    <div class="notifications-panel">
                        <h3 class="panel-title">
                            <i class="fas fa-bell" style="color: #f59e0b;"></i>
                            Recent Alerts
                        </h3>
                        <div id="notifications-container">
                            <div class="notification-item">
                                <p>Heavy rainfall expected next week - consider drainage</p>
                                <span>2 hours ago</span>
                            </div>
                            <div class="notification-item">
                                <p>Fall armyworm alert in your region</p>
                                <span>1 day ago</span>
                            </div>
                            <div class="notification-item">
                                <p>Optimal harvest time approaching</p>
                                <span>3 days ago</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Middle Column -->
                <div class="middle-column">
                    <!-- Results Panel -->
                    <div id="results-panel" class="results-panel hidden">
                        <h3 class="panel-title">Prediction Results</h3>
                        <div class="results-grid">
                            <div class="result-item">
                                <div class="result-circle yield">
                                    <span id="yield-estimate">0</span>
                                </div>
                                <p class="result-label">Predicted Yield</p>
                                <p class="result-value">tonnes/hectare</p>
                            </div>
                            <div class="result-item">
                                <div class="result-circle confidence">
                                    <span id="confidence-level">0%</span>
                                </div>
                                <p class="result-label">Confidence Level</p>
                                <p class="result-value">Accuracy</p>
                            </div>
                        </div>
                        
                        <div>
                            <h4 style="font-weight: 600; color: #1f2937; margin-bottom: 0.75rem;">Key Factors</h4>
                            <div id="factors-container"></div>
                        </div>
                        
                        <div style="margin-top: 1.5rem;">
                            <h4 style="font-weight: 600; color: #1f2937; margin-bottom: 0.75rem;">Recommendations</h4>
                            <ul id="recommendations-container" class="recommendation-list"></ul>
                        </div>
                    </div>

                    <!-- Charts -->
                    <div class="charts-grid">
                        <div class="chart-panel">
                            <h3 class="chart-title">Weather Forecast</h3>
                            <div class="chart-container">
                                <canvas id="weather-chart"></canvas>
                            </div>
                        </div>
                        <div class="chart-panel">
                            <h3 class="chart-title">Yield History</h3>
                            <div class="chart-container">
                                <canvas id="yield-chart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column - AI Chatbot -->
                <div class="right-column">
                    <div class="chatbot-panel">
                        <div class="chatbot-header">
                            <i class="fas fa-robot" style="color: #16a34a; font-size: 1.25rem;"></i>
                            <h3>AgriBot Assistant</h3>
                            <div class="chatbot-status"></div>
                        </div>
                        <div class="chatbot-messages" id="chatbot-messages">
                            <div class="message bot">
                                <div>Hello! I'm AgriBot, your AI farming assistant. I can help you with crop advice, weather insights, pest management, and answer any farming questions you have.</div>
                                <div class="message-time">Just now</div>
                            </div>
                        </div>
                        <div class="chatbot-input">
                            <input type="text" id="chat-input" placeholder="Ask me anything about farming..." maxlength="500">
                            <button class="send-btn" id="send-btn">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>ðŸŒ± Supporting SDG TWO: Zero Hunger | Empowering smallholder farmers with AI-driven insights</p>
        </div>
    </div>

    <script>
        // Application state
        let app = {
            selectedCrop: 'Maize',
            selectedRegion: 'Central Kenya',
            isLoading: false,
            weatherChart: null,
            yieldChart: null,
            currentUser: null,
            chatHistory: []
        };

        // Sample data
        const weatherData = [
            { month: 'Jan', rainfall: 45, temperature: 28 },
            { month: 'Feb', rainfall: 52, temperature: 30 },
            { month: 'Mar', rainfall: 78, temperature: 29 },
            { month: 'Apr', rainfall: 125, temperature: 27 },
            { month: 'May', rainfall: 89, temperature: 25 },
            { month: 'Jun', rainfall: 34, temperature: 23 },
            { month: 'Jul', rainfall: 28, temperature: 22 },
            { month: 'Aug', rainfall: 31, temperature: 23 },
            { month: 'Sep', rainfall: 42, temperature: 25 },
            { month: 'Oct', rainfall: 67, temperature: 27 },
            { month: 'Nov', rainfall: 98, temperature: 28 },
            { month: 'Dec', rainfall: 72, temperature: 29 }
        ];

        const yieldHistory = [
            { year: '2020', predicted: 2.1, actual: 1.9 },
            { year: '2021', predicted: 2.3, actual: 2.5 },
            { year: '2022', predicted: 2.8, actual: 2.6 },
            { year: '2023', predicted: 3.1, actual: 3.2 },
            { year: '2024', predicted: 3.4, actual: 3.3 }
        ];

        // Sample chatbot responses
        const chatbotResponses = {
            greetings: [
                "Hello! How can I help you with your farming today?",
                "Hi there! What farming questions do you have?",
                "Welcome! I'm here to assist with your agricultural needs."
            ],
            weather: [
                "Based on current weather data, I recommend monitoring soil moisture levels closely. The upcoming rainfall should be beneficial for your crops.",
                "Weather conditions look favorable for the next week. Make sure to check for any pest activity after the rain.",
                "The temperature and humidity levels are optimal for most crops in your region."
            ],
            crops: [
                "For maize cultivation, ensure proper spacing of 75cm between rows and 25cm between plants. Apply fertilizer at planting and top-dress after 6 weeks.",
                "Beans require well-drained soil and moderate watering. Avoid waterlogging which can cause root rot.",
                "Coffee plants need shade and consistent moisture. Prune regularly and watch for coffee berry disease."
            ],
            pests: [
                "Fall armyworm is a common threat to maize. Use integrated pest management including biological control and targeted spraying.",
                "For aphid control, encourage beneficial insects like ladybugs and use neem oil if necessary.",
                "Regular field monitoring is key to early pest detection. Check your crops at least twice a week."
            ],
            default: [
                "That's an interesting question! For specific agricultural advice, I recommend consulting with local extension officers or agricultural experts.",
                "I'd be happy to help with that. Could you provide more details about your specific farming situation?",
                "Based on general farming practices, I suggest researching best practices for your specific crop and region."
            ]
        };

        // Initialize application
        document.addEventListener('DOMContentLoaded', function() {
            initializeLoginForm();
        });

        // Login functionality
        function initializeLoginForm() {
            document.getElementById('login-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const email = document.getElementById('email').value;
                const password = document.getElementById('password').value;
                
                // Simulate login API call
                // In production, replace this with actual API call
                if (email && password) {
                    // Simulate successful login
                    app.currentUser = {
                        email: email,
                        name: email.split('@')[0].charAt(0).toUpperCase() + email.split('@')[0].slice(1)
                    };
                    
                    document.getElementById('user-name').textContent = app.currentUser.name;
                    document.getElementById('login-page').classList.add('hidden');
                    document.getElementById('main-app').classList.remove('hidden');
                    
                    initializeMainApp();
                } else {
                    alert('Please enter valid credentials');
                }
            });
        }

        // Initialize main application
        function initializeMainApp() {
            initializeEventListeners();
            initializeCharts();
            initializeChatbot();
        }

        function initializeEventListeners() {
            // Crop selection
            document.getElementById('crop-select').addEventListener('change', function(e) {
                app.selectedCrop = e.target.value;
            });

            // Region selection
            document.getElementById('region-select').addEventListener('change', function(e) {
                app.selectedRegion = e.target.value;
                document.getElementById('selected-region').textContent = e.target.value;
            });

            // Prediction button
            document.getElementById('predict-btn').addEventListener('click', generatePrediction);
        }

        function initializeCharts() {
            initializeWeatherChart();
            initializeYieldChart();
        }

        function initializeWeatherChart() {
            const ctx = document.getElementById('weather-chart').getContext('2d');
            app.weatherChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: weatherData.map(d => d.month),
                    datasets: [
                        {
                            label: 'Rainfall (mm)',
                            data: weatherData.map(d => d.rainfall),
                            borderColor: '#3B82F6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: 'Temperature (Â°C)',
                            data: weatherData.map(d => d.temperature),
                            borderColor: '#EF4444',
                            backgroundColor: 'rgba(239, 68, 68, 0.1)',
                            tension: 0.4,
                            fill: true
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        function initializeYieldChart() {
            const ctx = document.getElementById('yield-chart').getContext('2d');
            app.yieldChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: yieldHistory.map(d => d.year),
                    datasets: [
                        {
                            label: 'Predicted',
                            data: yieldHistory.map(d => d.predicted),
                            backgroundColor: '#10B981',
                            borderColor: '#059669',
                            borderWidth: 1
                        },
                        {
                            label: 'Actual',
                            data: yieldHistory.map(d => d.actual),
                            backgroundColor: '#3B82F6',
                            borderColor: '#2563EB',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Yield (tonnes/hectare)'
                            }
                        }
                    }
                }
            });
        }

        // Chatbot functionality
        function initializeChatbot() {
            const chatInput = document.getElementById('chat-input');
            const sendBtn = document.getElementById('send-btn');

            chatInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });

            sendBtn.addEventListener('click', sendMessage);
        }

        function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            
            if (!message) return;

            // Add user message
            addMessage(message, 'user');
            input.value = '';

            // Show typing indicator
            showTypingIndicator();

            // Simulate API call delay and generate response
            setTimeout(() => {
                hideTypingIndicator();
                const response = generateChatbotResponse(message);
                addMessage(response, 'bot');
            }, 1000 + Math.random() * 2000);
        }

        function addMessage(text, sender) {
            const messagesContainer = document.getElementById('chatbot-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            const now = new Date();
            const timeString = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            
            messageDiv.innerHTML = `
                <div>${text}</div>
                <div class="message-time">${timeString}</div>
            `;
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;

            // Store in chat history for potential API integration
            app.chatHistory.push({
                message: text,
                sender: sender,
                timestamp: now.toISOString()
            });
        }

        function showTypingIndicator() {
            const messagesContainer = document.getElementById('chatbot-messages');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'typing-indicator';
            typingDiv.id = 'typing-indicator';
            typingDiv.innerHTML = `
                <div class="typing-dots">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
                <span>AgriBot is typing...</span>
            `;
            
            messagesContainer.appendChild(typingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function generateChatbotResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            // Simple keyword-based response generation
            // In production, this would be replaced with actual AI API calls
            if (lowerMessage.includes('hello') || lowerMessage.includes('hi') || lowerMessage.includes('hey')) {
                return getRandomResponse(chatbotResponses.greetings);
            } else if (lowerMessage.includes('weather') || lowerMessage.includes('rain') || lowerMessage.includes('temperature')) {
                return getRandomResponse(chatbotResponses.weather);
            } else if (lowerMessage.includes('crop') || lowerMessage.includes('plant') || lowerMessage.includes('grow') || lowerMessage.includes('maize') || lowerMessage.includes('beans') || lowerMessage.includes('coffee')) {
                return getRandomResponse(chatbotResponses.crops);
            } else if (lowerMessage.includes('pest') || lowerMessage.includes('insect') || lowerMessage.includes('disease') || lowerMessage.includes('bug')) {
                return getRandomResponse(chatbotResponses.pests);
            } else {
                return getRandomResponse(chatbotResponses.default);
            }
        }

        function getRandomResponse(responses) {
            return responses[Math.floor(Math.random() * responses.length)];
        }

        function generatePrediction() {
            if (app.isLoading) return;

            app.isLoading = true;
            const btn = document.getElementById('predict-btn');
            btn.innerHTML = '<span class="loading"></span>Analyzing...';
            btn.disabled = true;

            // Simulate API call
            setTimeout(() => {
                const prediction = {
                    yieldEstimate: (Math.random() * 2 + 2).toFixed(1),
                    confidence: Math.floor(Math.random() * 20 + 80),
                    factors: [
                        { name: 'Weather Conditions', impact: 'Positive', score: 85 },
                        { name: 'Soil Quality', impact: 'Good', score: 78 },
                        { name: 'Pest Risk', impact: 'Low', score: 92 },
                        { name: 'Market Conditions', impact: 'Favorable', score: 88 }
                    ],
                    recommendations: [
                        'Apply nitrogen fertilizer in 2 weeks',
                        'Monitor for pest activity during flowering',
                        'Ensure adequate irrigation during grain filling',
                        'Consider early harvest if weather deteriorates'
                    ]
                };

                displayPredictionResults(prediction);

                app.isLoading = false;
                btn.innerHTML = 'Generate Prediction';
                btn.disabled = false;
            }, 2000);
        }

        function displayPredictionResults(prediction) {
            // Show results panel
            document.getElementById('results-panel').classList.remove('hidden');

            // Update yield estimate and confidence
            document.getElementById('yield-estimate').textContent = prediction.yieldEstimate;
            document.getElementById('confidence-level').textContent = prediction.confidence + '%';

            // Update factors
            const factorsContainer = document.getElementById('factors-container');
            factorsContainer.innerHTML = '';
            prediction.factors.forEach(factor => {
                const factorElement = document.createElement('div');
                factorElement.className = 'factor-item';
                factorElement.innerHTML = `
                    <span class="factor-name">${factor.name}</span>
                    <div class="factor-progress">
                        <span class="factor-impact">${factor.impact}</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${factor.score}%"></div>
                        </div>
                    </div>
                `;
                factorsContainer.appendChild(factorElement);
            });

            // Update recommendations
            const recommendationsContainer = document.getElementById('recommendations-container');
            recommendationsContainer.innerHTML = '';
            prediction.recommendations.forEach(recommendation => {
                const li = document.createElement('li');
                li.textContent = recommendation;
                recommendationsContainer.appendChild(li);
            });

            // Scroll to results
            document.getElementById('results-panel').scrollIntoView({ 
                behavior: 'smooth', 
                block: 'start' 
            });
        }

        // Logout functionality
        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                app.currentUser = null;
                app.chatHistory = [];
                document.getElementById('main-app').classList.add('hidden');
                document.getElementById('login-page').classList.remove('hidden');
                document.getElementById('email').value = '';
                document.getElementById('password').value = '';
                document.getElementById('results-panel').classList.add('hidden');
            }
        }

        // Update weather data periodically (simulation)
        setInterval(() => {
            if (app.currentUser) {
                const temperature = Math.floor(Math.random() * 5) + 24;
                const humidity = Math.floor(Math.random() * 20) + 60;
                const windSpeed = Math.floor(Math.random() * 10) + 8;
                const rainfall = Math.floor(Math.random() * 20) + 10;

                document.getElementById('temperature').textContent = temperature + 'Â°C';
                document.getElementById('humidity').textContent = humidity + '%';
                document.getElementById('wind-speed').textContent = windSpeed + ' km/h';
                document.getElementById('rainfall').textContent = rainfall + 'mm';
            }
        }, 30000); // Update every 30 seconds
    </script>
</body>
</html>
